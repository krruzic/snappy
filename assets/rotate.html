<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<script src="/js/jquery-1.9.1.js" type="text/javascript"></script>
<script src="/js/jqm.js" type="text/javascript"></script>
</head>

<body>
<script>
function readFile(file, callback){
    var reader = new FileReader();
    reader.onload = callback
    reader.readAsDataURL(file);
	result = reader.readAsDataURL(file);
	console.log(result);
}

function snapitgetFile(){
	
	snapitloadshit();
}
	
function snapitloadshit(){
	$('#snapitUpload').on('change', function(e){
		var filesize = this.files[0].size;
		var filename = this.files[0].name;
		var extension = filename.substring(filename.lastIndexOf('.')+1);
		var filePath = $(this).val();
		
	readFile(this.files[0], function(e) {
	console.log(e.target.result);
	var canvas = document.getElementById("mycanvas");
	var ctx = canvas.getContext("2d");
	var image = new Image();
    	image.src = e.target.result;
		 
		image.onload = function() {
			 ctx.width = this.width;
   		 	ctx.height = this.height;
  
          	ctx.translate(ctx.width, 0);
			//ctx.rotate(Math.PI); 
			ctx.rotate(Math.PI/2);
			ctx.drawImage(image, 0, 0);

    return ctx;
	
	}
	 });
	});
	
}
	</script>
    
    <canvas id="mycanvas" width="800" height="800"></canvas>

<input id="snapitUpload" type="file" value="upload" accept="image/*" capture="camera"  onclick="snapitgetFile()"/>


</body>
</html>
